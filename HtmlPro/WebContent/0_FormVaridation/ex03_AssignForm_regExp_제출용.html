<!DOCTYPE html>
<html lang="kr">
<head>
	<meta charset="UTF-8">
	<title>폼의 유효성 검증</title>
	<style>
	   .btn_blue {
	       background-color: #008CBA; 
           color: white; 
           border-radius: 20px; 
           padding: 10px; 
           width: 80px; 
           border: none; 
           opacity: 0.6; 
           transition: 0.3s; 
           display: inline-block;
           cursor: pointer; 
	   }
	   
	   .btn_blue:hover {
	       opacity: 1; 
	   }
	   
	   fieldset {
	       background-color: RGB(250,250,250);
	   }
	</style>
	<script>
	
	var elep = false;
	
	function styleSet(elep,status){
		elep.style.fontSize = "x-small";
		
		if(status){ 
			elep.style.color = "blue";
            elep.style.fontWeight = "bold";
		}else{ 
			elep.style.color = "red";
            elep.style.fontWeight = "bold";
		}
	}
	
	function checkValidate(){
	    var eles = []; 
	    var str = ""; 
	    
        var ele = document.getElementById("userId");
        elep = document.getElementById("pUserId");
        var regExp = /^[a-z][a-z0-9]{7,19}$/;
        if(ele.value.length == 0){
            str = "아이디는 필수 정보입니다.";
            eles.push(ele);
            styleSet(elep,false); 
            elep.innerHTML = str;
        }else if(!ele.value.match(regExp)){
            str = "8~20자의 영문 소문자로 시작하며 영문 소문자, 숫자만 사용 가능합니다.";
            eles.push(ele);
            styleSet(elep,false); 
            elep.innerHTML = str;
        }else if(ele.value.match(regExp)){
            str = "멋진 아이디네요!";
            styleSet(elep,true); 
            elep.innerHTML = str;
        }
        
        ele = document.getElementById("userPw");
        elep = document.getElementById("pUserPw");
        regExp = /(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[-_.]).{8,20}/;
        if(ele.value.length == 0){
            str = "비밀번호는 필수 정보입니다.";
            eles.push(ele);
            styleSet(elep,false); 
            elep.innerHTML = str;
        }else if(!ele.value.match(regExp)){
            str = "8~20자 사이의 영문 대 소문자, 숫자, 특수문자를 사용하세요.";
            eles.push(ele);
            styleSet(elep,false); 
            elep.innerHTML = str;
        }else if(ele.value.match(regExp)){
            str = "안전합니다!";
            styleSet(elep,true); 
            elep.innerHTML = str;
        }
	    
	    ele = document.getElementById("userName");
	    elep = document.getElementById("pUserName");
        regExp = /^[가-힣]{2,5}$/;
	    if(ele.value.trim().length == 0){
			str = "이름은 필수 정보입니다.";
			eles.push(ele);
            styleSet(elep,false); 
            elep.innerHTML = str;
		}else if(!ele.value.match(regExp)){
			str = "한글 2~5자를 입력하세요.";
			eles.push(ele);
            styleSet(elep,false); 
            elep.innerHTML = str;
		}else if(ele.value.match(regExp)){
			str = "멋진 이름이네요!";
			styleSet(elep,true); 
            elep.innerHTML = str;
		}
		
		ele = document.getElementById("birthday");
		elep = document.getElementById("pBirthday");
		if(ele.value.length == 0){
			str = "생일은 필수 정보입니다.";
			eles.push(ele);
			styleSet(elep,false); 
            elep.innerHTML = str;
		}else if(ele.value.length > 10){
			str = "생일을 정확하게 선택해주세요.";
            eles.push(ele);
            styleSet(elep,false); 
            elep.innerHTML = str;
		}else{
			str = "유효한 날짜입니다!";
			styleSet(elep,true); 
            elep.innerHTML = str;
		}
		
		ele = document.getElementById("phone");
		elep = document.getElementById("pPhone");
		regExp = /^\d{3}-\d{3,4}-\d{4}$/;
		if(ele.value.trim().length == 0){
			str = "휴대폰 번호는 필수 정보입니다.";
			eles.push(ele);
			styleSet(elep,false); 
            elep.innerHTML = str;
		}else if(!ele.value.match(regExp)){
			str = "000-0000-0000 형식의 올바른 휴대전화 번호를 입력해주세요.";
			eles.push(ele);
			styleSet(elep,false); 
            elep.innerHTML = str;
		}else if(ele.value.match(regExp)){
            str = "유효한 전화번호입니다!";
            styleSet(elep,true); 
            elep.innerHTML = str;
        }
		
        ele = document.getElementById("email");
        elep = document.getElementById("pEmail");
        regExp = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/;
        if(ele.value.trim().length == 0){
            str = "이메일은 필수 정보입니다.";
            eles.push(ele);
            styleSet(elep,false); 
            elep.innerHTML = str;
        }else if(!ele.value.match(regExp)){
            str = "이메일 주소를 다시 확인해주세요. (예:user1@ddit.com)";
            eles.push(ele);
            styleSet(elep,false); 
            elep.innerHTML = str;
        }else if(ele.value.match(regExp)){
            str = "유효한 이메일입니다!";
            styleSet(elep,true); 
            elep.innerHTML = str;
        }
		
		if(eles.length != 0){
			console.log("eles.length : " + eles.length);
	        console.log("eles[0] : " + eles[0].id);
	        eles[0].focus();
	        
	        alert("입력값을 확인해주세요.");
		}else{
			alert("유효성 검사 성공!!");
		}
	}
	
	function pTagReset(){
		document.getElementById("pUserId").innerHTML = "";
		document.getElementById("pUserPw").innerHTML = "";
		document.getElementById("pUserName").innerHTML = "";
		document.getElementById("pAddr").innerHTML = "";
		document.getElementById("pBirthday").innerHTML = "";
		document.getElementById("pPhone").innerHTML = "";
		document.getElementById("pEmail").innerHTML = "";
	}
	</script>
</head>
<body>

    <fieldset>
        <legend>회원 정보 입력</legend>
	    <form>
		    <label for="userId">아이디(8~20 문자)</label> : <!-- 아이디 -->
	        <input type="text" id="userId"><br>
	        <p id="pUserId"></p>
	        
	        <label for="userPw">비밀번호</label> : <!-- 비밀번호 -->
	        <input type="text" id="userPw"><br>
	        <p id="pUserPw"></p>
		    
		    <label for="userName">이름</label> : <!-- 이름 --> 
		    <input type="text" id="userName"><br>
		    <p id="pUserName"></p>
		       
		    <label for="addr">주소</label> : <!-- 주소 -->
		    <input type="text" id="addr"><br>
		    <p id="pAddr"></p>
		    
		    <label for="birthday">생년월일</label> : <!-- 생일 -->
		    <input type="date" id="birthday"><br>
		    <p id="pBirthday"></p>
		    
		    <label for="phone">휴대폰</label> : <!-- 휴대폰 -->
		    <input type="text" id="phone"><br>
		    <p id="pPhone"></p>
		    
		    <label for="email">이메일 </label> : <!-- 이메일 -->
	        <input type="email" id="email"><br>
	        <p id="pEmail"></p>
		    
	        <button type="button" class="btn_blue" onclick="checkValidate()" title="전송">전송</button>
	        <input type="reset" class="btn_blue" value="초기화" onclick="pTagReset()">
	        
	    </form>
    </fieldset>
</body>
</html>